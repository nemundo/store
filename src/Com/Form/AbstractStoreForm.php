<?phpnamespace Nemundo\Store\Form;use Nemundo\Admin\Com\Form\AbstractAdminForm;use Nemundo\Admin\Com\Title\AdminTitle;use Nemundo\Com\FormBuilder\Item\HiddenFormItem;use Nemundo\Store\Type\AbstractStoreType;use Nemundo\Core\Http\Request\Post\PostRequest;use Nemundo\Core\Http\Url\UrlRedirect;use Nemundo\Package\Bootstrap\Form\BootstrapForm;use Nemundo\Core\Http\Url\UrlReferer;class AbstractStoreForm extends AbstractAdminForm  // BootstrapForm{    /**     * @var AbstractStoreType     */    public $store;    /**     * @var bool     */    public $urlRefererRedirect = false;    /**     * @var HiddenFormItem     */    private $hidden;    public function getContent()    {        if ($this->urlRefererRedirect) {            $this->hidden = new HiddenFormItem($this);            $this->hidden->name = 'redirect';            if ($this->hidden->hasValue()) {                $this->hidden->value = $this->hidden->getValue();            } else {                $this->hidden->value = (new UrlReferer())->getUrl();            }        }        return parent::getContent();    }    protected function getStoreValue()    {        return null;    }    protected function onSubmit()    {        $this->store->setValue($this->getStoreValue());        if ($this->urlRefererRedirect) {            $url = (new PostRequest('redirect'))->getValue();            (new UrlRedirect())->redirect($url);        }    }}